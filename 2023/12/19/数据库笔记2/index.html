

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Harrison">
  <meta name="keywords" content="Harrison, Blog, 博客, Hexo">
  
    <meta name="description" content="数据库原理与安全课堂笔记2">
<meta property="og:type" content="article">
<meta property="og:title" content="数据库原理与安全：笔记2">
<meta property="og:url" content="https://harrison-1eo.github.io/2023/12/19/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AC%94%E8%AE%B02/index.html">
<meta property="og:site_name" content="Harrison&#39;s Blog">
<meta property="og:description" content="数据库原理与安全课堂笔记2">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://typora-win11.oss-cn-beijing.aliyuncs.com/typora-img/2023/12/20/20231220-161116.png">
<meta property="article:published_time" content="2023-12-19T08:54:00.000Z">
<meta property="article:modified_time" content="2023-12-21T03:10:32.465Z">
<meta property="article:author" content="Harrison">
<meta property="article:tag" content="期末复习">
<meta property="article:tag" content="数据库">
<meta property="article:tag" content="大三上">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://typora-win11.oss-cn-beijing.aliyuncs.com/typora-img/2023/12/20/20231220-161116.png">
  
  
  
  <title>数据库原理与安全：笔记2 - Harrison&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"harrison-1eo.github.io","root":"/","version":"1.9.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4","collapseDepth":2},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Harrison&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="数据库原理与安全：笔记2"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-12-19 16:54" pubdate>
          2023年12月19日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          4.8k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          41 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">数据库原理与安全：笔记2</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="第三章-关系数据库标准语言sql">第三章 关系数据库标准语言SQL</h1>
<h2 id="sql概述">3.1 SQL概述</h2>
<p>特点：</p>
<ol type="1">
<li>综合统一</li>
<li>高度非过程化，只需提出“做什么”，无须了解存取路径，不需要知道“怎么做”</li>
<li>面向集合的操作方式，操作对象和结果都是集合</li>
<li>以同一种语法结构提供多种使用方式，是独立的语言又是嵌入式语言，同时还提供驱动API</li>
<li>语言简洁，易学易用，完成核心功能只用了9个动词</li>
</ol>
<p>基本概念：</p>
<ol type="1">
<li>基本表：
<ul>
<li>本身独立存在的表</li>
<li>一个关系对应一个基本表</li>
<li>一个表可以有若干个索引</li>
<li>一个（或多个）基本表对应一个存储文件</li>
</ul></li>
<li>存储文件：
<ul>
<li>由DBMS进行管理，实现各异</li>
<li>文件路径和文件名可由用户配置或指定</li>
</ul></li>
<li>视图：
<ul>
<li><strong>视图是虚表，是不存在的表</strong></li>
<li>是从一个或几个基本表通过查询而导出的表</li>
<li>数据库中只存放视图的定义，不存放视图对应的数据</li>
<li>用户可以在视图上再定义视图</li>
</ul></li>
</ol>
<h2 id="学生-课程数据库">3.2 学生-课程数据库</h2>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pf">学生表：	Student (S<span class="hljs-keyword">no</span>,Sname,Ssex,Sage,Sdept)<br>课程表：	Course (C<span class="hljs-keyword">no</span>,Cname,Cpno,Ccredit)<br>学生选课表： SC (S<span class="hljs-keyword">no</span>,C<span class="hljs-keyword">no</span>,Grade)<br></code></pre></td></tr></table></figure>
<h2 id="数据定义">3.3 数据定义</h2>
<p>SQL的数据定义功能：</p>
<ul>
<li>模式定义（不同的DBMS实现各异）</li>
<li>表定义</li>
<li>视图和索引的定义</li>
</ul>
<p>RDBMS提供了一个层次化的数据库对象命名机制：</p>
<ul>
<li>一个RDBMS的实例（Instance）（或者称为目录）中可以建立多个数据库</li>
<li>一个数据库中可以建立多个模式</li>
<li>一个模式下通常包括多个表、视图和索引等数据库对象</li>
</ul>
<h3 id="模式的定义与删除">3.3.1 模式的定义与删除</h3>
<h4 id="模式的定义">1. 模式的定义</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> SCHEMA <span class="hljs-operator">&lt;</span>模式名<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">AUTHORIZATION</span> <span class="hljs-operator">&lt;</span>用户名<span class="hljs-operator">&gt;</span>;<br></code></pre></td></tr></table></figure>
<p>例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> SCHEMA “S<span class="hljs-operator">-</span>T” <span class="hljs-keyword">AUTHORIZATION</span> WANG;<br></code></pre></td></tr></table></figure>
<p>该语句没有指定&lt;模式名&gt;，&lt;模式名&gt;隐含为&lt;用户名&gt;。</p>
<p>定义模式实际上定义了一个命名空间：避免命名冲突。</p>
<p>在命名空间中可以定义该模式包含的数据库对象（基本表、视图、索引、数据类型、同义词等）。</p>
<h4 id="模式的删除">2. 模式的删除：</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">DROP</span> SCHEMA <span class="hljs-operator">&lt;</span>模式名<span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>CASCADE<span class="hljs-operator">|</span>RESTRICT<span class="hljs-operator">&gt;</span>;<br></code></pre></td></tr></table></figure>
<p>删除模式：</p>
<ul>
<li>CASCADE（级联）
删除模式的同时把该模式中所有的数据库对象全部删除</li>
<li>RESTRICT（限制）
如果该模式中定义了下属的数据库对象（如表、视图等），则拒绝该删除语句的执行。
仅当该模式中没有任何下属的对象时才能执行。</li>
</ul>
<h4 id="不同数据库对schema的定义">3. 不同数据库对Schema的定义</h4>
<p>在MySQL中，Schema和Database是等价的概念。</p>
<p>Oracle的Schema相当于数据库对象的命名空间，和UserName是等价的。</p>
<p>SQL Server 2000之前和Oracle一样，Schema和用户没有概念上的区别。 SQL
Server 2005以后的版本，user 和
schema是独立的objects，二者是独立的和各自分离的。 在SQL
Server中的层次结构为：Server(Instance). Database. DatabaseSchema.
DatabaseObject</p>
<p><img src="http://typora-win11.oss-cn-beijing.aliyuncs.com/typora-img/2023/12/20/20231220-161116.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="基本表的定义删除与修改">3.3.2 基本表的定义、删除与修改</h3>
<h4 id="定义基本表">1. 定义基本表</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-operator">&lt;</span>表名<span class="hljs-operator">&gt;</span> (<span class="hljs-operator">&lt;</span>列名<span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>数据类型<span class="hljs-operator">&gt;</span> [<span class="hljs-operator">&lt;</span>列级完整性约束条件<span class="hljs-operator">&gt;</span>]<br>                   [,<span class="hljs-operator">&lt;</span>列名<span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>数据类型<span class="hljs-operator">&gt;</span> [<span class="hljs-operator">&lt;</span>列级完整性约束条件<span class="hljs-operator">&gt;</span>]]<br>                   ...<br>                   [,<span class="hljs-operator">&lt;</span>表级完整性约束条件<span class="hljs-operator">&gt;</span>]);<br></code></pre></td></tr></table></figure>
<p>&lt;列级完整性约束条件&gt;：涉及相应属性列的完整性约束条件</p>
<p>&lt;表级完整性约束条件&gt;：涉及一个或多个属性列的完整性约束条件。如果约束条件涉及到该表的多个属性列时，必须定义在表级上。</p>
<p>例如：</p>
<p>建立一个学生表 Student</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> Student(<br>    Sno <span class="hljs-type">CHAR</span>(<span class="hljs-number">9</span>) <span class="hljs-keyword">PRIMARY</span> KEY,   <span class="hljs-comment">/* 列级完整性约束条件, Sno是主码*/</span><br>    Sname <span class="hljs-type">CHAR</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">UNIQUE</span>,      <span class="hljs-comment">/* Sname取唯一值*/</span><br>    Ssex <span class="hljs-type">CHAR</span>(<span class="hljs-number">2</span>),<br>    Sage <span class="hljs-type">SMALLINT</span>，<br>    Sdept <span class="hljs-type">CHAR</span>(<span class="hljs-number">20</span>)<br>);<br></code></pre></td></tr></table></figure>
<p>建立一个课程表 Course</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> Course(<br>    Cno <span class="hljs-type">CHAR</span>(<span class="hljs-number">4</span>) <span class="hljs-keyword">PRIMARY</span> KEY,   <span class="hljs-comment">/* 列级完整性约束条件, Cno是主码*/</span><br>    Cname <span class="hljs-type">CHAR</span>(<span class="hljs-number">40</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,    <span class="hljs-comment">/* 列级完整性约束条件, Cname不能取空值*/</span><br>    Cpno <span class="hljs-type">CHAR</span>(<span class="hljs-number">4</span>),               <span class="hljs-comment">/* Cpno的含义是先修课*/</span><br>    Ccredit <span class="hljs-type">SMALLINT</span>，<br>    <span class="hljs-keyword">FOREIGN</span> KEY (Cpno) <span class="hljs-keyword">REFERENCES</span> Course(Cno)   <br>    <span class="hljs-comment">/* 表级完整性约束条件, Cpno是外码，被参照表是Course，被参照列是Cno*/</span><br>);<br></code></pre></td></tr></table></figure>
<p>建立一个学生选课表SC</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> SC(<br>    Sno <span class="hljs-type">CHAR</span>(<span class="hljs-number">9</span>),<br>    Cno <span class="hljs-type">CHAR</span>(<span class="hljs-number">4</span>),<br>    Grade <span class="hljs-type">SMALLINT</span>，<br>    <span class="hljs-keyword">PRIMARY</span> KEY (Sno,Cno),<br>    <span class="hljs-comment">/* 主码由两个属性构成，必须作为表级完整性进行定义 */</span><br>    <span class="hljs-keyword">FOREIGN</span> KEY (Sno) <span class="hljs-keyword">REFERENCES</span> Student(Sno),<br>    <span class="hljs-comment">/* 表级完整性约束条件，Sno是外码，被参照表是Student */</span><br>    <span class="hljs-keyword">FOREIGN</span> KEY (Cno) <span class="hljs-keyword">REFERENCES</span> Course(Cno)<br>    <span class="hljs-comment">/* 表级完整性约束条件， Cno是外码，被参照表是Course */</span><br>);<br></code></pre></td></tr></table></figure>
<h4 id="数据类型">2. 数据类型</h4>
<p>SQL
中域的概念用数据类型来实现。定义表的各个属性时需要指明其数据类型及长度。</p>
<p>一个属性选用哪种数据类型，需要考虑取值范围以及要做哪些运算。</p>
<ol type="1">
<li>CHAR, VARCHAR
<ul>
<li>以byte<strong>字节计数</strong></li>
<li>CHAR(n)类型数据插入数据库后，自动补齐空格到n字节，VARCHAR(n)不会自动补充空格</li>
<li>MySQL &gt;5.6 后是字符个数，不是字节数</li>
</ul></li>
<li>NCHAR, NVARCHAR
<ul>
<li>国家字符集</li>
<li>定义的是<strong>字符的个数</strong>，非字节数</li>
</ul></li>
<li>日期时间类型
<ol type="1">
<li>MySQL
<ul>
<li>DATE：只有日期，没有时间，<code>YYYY-MM-DD</code>，范围从最小1000到9999</li>
<li>DATETIME： 日期和时间两部分，<code>YYYY-MM-DD hh:mm:ss</code>
，范围从最小1000到9999</li>
<li>TIMESTAMP: 日期和时间两部分，范围：'1970-01-01 00:00:01' UTC to
'2038-01-19 03:14:07' UTC</li>
</ul></li>
<li>Oracle
<ul>
<li>DATE：日期+时间，精确到秒，7bytes，范围1/1, 4712 BC – 12/31,
9999</li>
<li>TIMESTAMP：日期+时间，可以精确到毫秒ms</li>
</ul></li>
</ol></li>
</ol>
<p>注：</p>
<ul>
<li>标准SQL使用单引号标识字符串常量，两个连续的单引号转义为一个单引号</li>
<li>双引号通常用来标识关键字，对象名、字段名。
Oracle中双引号(“”)标识的对象名/字段名区分大小写</li>
<li>字符串的拼接：
<ul>
<li>MySQL：使用空格</li>
<li>Oracle：使用<code>||</code></li>
</ul></li>
<li>MySQL在Windows
通常不区分大小写，Linux系统区分。单引号和双引号可以混用。
反引号用来用于标记「表名」和「列名」，通常情况加不加都行；但如果表名或列名为
MySQL 保留符（例如 cource），那么一定要加反引号作为区分。</li>
<li>Oracle区分大小写，使用单引号标记常量，Oracle中双引号标识的对象名/字段名区分大小写</li>
</ul>
<p>字符编码：</p>
<ol type="1">
<li>GB2312</li>
<li>GBK</li>
<li>GB18030</li>
<li>Unicode</li>
<li>UTF-8</li>
<li>UTF-16</li>
</ol>
<h4 id="模式与表">3. 模式与表</h4>
<p>每一个基本表都属于某一个模式</p>
<p>每一个基本表都属于某一个模式</p>
<p>定义基本表所属模式的三种方法：</p>
<ol type="1">
<li><p>在表名中明显地给出模式名。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> "S-T".Student(...)； <span class="hljs-comment">/*Student 所属的模式是 S-T*/</span><br></code></pre></td></tr></table></figure></li>
<li><p>在创建模式语句中同时创建表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> SCHEMA TEST <span class="hljs-keyword">AUTHORIZATION</span> ZHANG<br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> TAB1(...);<br></code></pre></td></tr></table></figure></li>
<li><p>设置所属的模式，这样在创建表时表名中不必给出模式名。</p></li>
</ol>
<p>创建基本表（其他数据库对象也一样）时，若没有指定模式，系统根据搜索路径来确定该对象所属的模式。</p>
<p>关系数据库管理系统会使用模式列表（search_path,
类似OS的path变量）中第一个存在的模式作为数据库对象的模式名（create
table）。</p>
<h4 id="修改基本表">4. 修改基本表</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-operator">&lt;</span>表名<span class="hljs-operator">&gt;</span><br>    [<span class="hljs-keyword">ADD</span> [<span class="hljs-keyword">COLUMN</span>] <span class="hljs-operator">&lt;</span>新列名<span class="hljs-operator">&gt;</span><span class="hljs-operator">&lt;</span>数据类型<span class="hljs-operator">&gt;</span> [完整性约束]] <br>    [<span class="hljs-keyword">ADD</span> <span class="hljs-operator">&lt;</span>表级完整性约束<span class="hljs-operator">&gt;</span>]<br>    [<span class="hljs-keyword">DROP</span> [<span class="hljs-keyword">COLUMN</span>] <span class="hljs-operator">&lt;</span>列名<span class="hljs-operator">&gt;</span> [CASCADE<span class="hljs-operator">|</span> RESTRICT]]<br>    [<span class="hljs-keyword">DROP</span> <span class="hljs-keyword">CONSTRAINT</span><span class="hljs-operator">&lt;</span>完整性约束名<span class="hljs-operator">&gt;</span>[RESTRICT <span class="hljs-operator">|</span> CASCADE]]<br>    [<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">COLUMN</span><span class="hljs-operator">&lt;</span>列名<span class="hljs-operator">&gt;</span><span class="hljs-operator">&lt;</span>数据类型<span class="hljs-operator">&gt;</span>];<br></code></pre></td></tr></table></figure>
<p>不管基本表中原来是否已有数据，新增加的列一律为空值，可以使用采用缺省值(DEFAULT)避免新增的字段取NULL，约束条件为：
<code>NOT NULL DEFAULT (current_date());</code> 。</p>
<h4 id="删除基本表">5. 删除基本表</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-operator">&lt;</span>表名<span class="hljs-operator">&gt;</span>[RESTRICT<span class="hljs-operator">|</span> CASCADE];<br></code></pre></td></tr></table></figure>
<h3 id="索引的建立与删除">3.3.3 索引的建立与删除</h3>
<ul>
<li>建立索引的目的：加快查询速度</li>
<li>数据库索引的类型：顺序文件上的索引、B+树索引、散列（hash）索引、位图索引</li>
<li>索引需要占用一定的存储空间，当基本表更新时，索引要进行相应的维护，因此需要根据实际应用的需要有选择地创建索引。</li>
<li>建立与删除索引由数据库管理员或表的属主（owner），即建立表的人，负责完成。</li>
<li>关系数据库管理系统在执行查询时会自动选择合适的索引作为存取路径，用户不必也不能显式地选择索引。</li>
<li>索引是关系数据库管理系统的内部实现技术，属于<strong>内模式</strong>的范畴。</li>
</ul>
<h4 id="建立索引">1. 建立索引</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> [<span class="hljs-keyword">UNIQUE</span>] [CLUSTER] INDEX <span class="hljs-operator">&lt;</span>索引名<span class="hljs-operator">&gt;</span><br><span class="hljs-keyword">ON</span> <span class="hljs-operator">&lt;</span>表名<span class="hljs-operator">&gt;</span>(<span class="hljs-operator">&lt;</span>列名<span class="hljs-operator">&gt;</span>[<span class="hljs-operator">&lt;</span>次序<span class="hljs-operator">&gt;</span>][,<span class="hljs-operator">&lt;</span>列名<span class="hljs-operator">&gt;</span>[<span class="hljs-operator">&lt;</span>次序<span class="hljs-operator">&gt;</span>]]…);<br></code></pre></td></tr></table></figure>
<ul>
<li>UNIQUE：此索引的每一个索引值只对应唯一的数据记录</li>
<li>CLUSTER：表示要建立的索引是聚簇索引（SQL Server语法）</li>
<li>索引：可以建立在该表的一列或多列上，各列名之间用逗号分隔</li>
<li>&lt;次序&gt;：指定索引值的排列次序，升序：ASC，降序：DESC。缺省值：ASC</li>
</ul>
<p>例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">UNIQUE</span> INDEX Stusno <span class="hljs-keyword">ON</span> Student(Sno);<br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">UNIQUE</span> INDEX Coucno <span class="hljs-keyword">ON</span> Course(Cno);<br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">UNIQUE</span> INDEX SCno <span class="hljs-keyword">ON</span> SC(Sno <span class="hljs-keyword">ASC</span>,Cno <span class="hljs-keyword">DESC</span>);	<br><span class="hljs-comment">/*SC表按学号升序和课程号降序建唯一索引*/</span><br></code></pre></td></tr></table></figure>
<h4 id="修改索引">2. 修改索引</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">ALTER</span> INDEX <span class="hljs-operator">&lt;</span>旧索引名<span class="hljs-operator">&gt;</span> RENAME <span class="hljs-keyword">TO</span> <span class="hljs-operator">&lt;</span>新索引名<span class="hljs-operator">&gt;</span>;<br></code></pre></td></tr></table></figure>
<h4 id="删除索引">3. 删除索引</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">DROP</span> INDEX <span class="hljs-operator">&lt;</span>索引名<span class="hljs-operator">&gt;</span>;<br></code></pre></td></tr></table></figure>
<h3 id="数据字典">3.3.4 数据字典</h3>
<p>数据字典是关系数据库管理系统内部的一组系统表，它记录了数据库中所有的定义信息，包括关系模式定义、视图定义、索引定义、完整性约束定义、各类用户对数据库的操作权限、统计信息等。</p>
<p>关系数据库管理系统在执行 SQL
的数据定义语句时，实际上就是在更新数据字典表中的相应信息。</p>
<p>MySQL中：INFORMATION_SCHEMA是每个MySQL实例中的数据库，存储有关
MySQL服务器维护的所有其他数据库的信息。INFORMATION_SCHEMA数据库包含只读表，实际上是视图，而不是基表。</p>
<p>Oracle中：有静态字典和动态字典。静态字典中的视图分为三类，它们分别由三个前缀够成：user_*、
all_*、
dba_*，存储有用户所拥有对象、用户能访问对象、所有对象信息。动态字典中包含了一些潜在的由系统管理员(如SYS)维护的表和视图，包括关于内存和磁盘等的运行情况等，只读不能修改。</p>
<h2 id="数据查询">3.4 数据查询</h2>
<p>语句格式：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> [<span class="hljs-keyword">ALL</span><span class="hljs-operator">|</span><span class="hljs-keyword">DISTINCT</span>] <span class="hljs-operator">&lt;</span>目标列表达式<span class="hljs-operator">&gt;</span>[,<span class="hljs-operator">&lt;</span>目标列表达式<span class="hljs-operator">&gt;</span>] …<br><span class="hljs-keyword">FROM</span> <span class="hljs-operator">&lt;</span>表名或视图名<span class="hljs-operator">&gt;</span>[,<span class="hljs-operator">&lt;</span>表名或视图名<span class="hljs-operator">&gt;</span>…]<span class="hljs-operator">|</span>(<span class="hljs-operator">&lt;</span><span class="hljs-keyword">SELECT</span> 语句<span class="hljs-operator">&gt;</span>) [<span class="hljs-keyword">AS</span>] <span class="hljs-operator">&lt;</span>别名<span class="hljs-operator">&gt;</span><br>[<span class="hljs-keyword">WHERE</span> <span class="hljs-operator">&lt;</span>条件表达式<span class="hljs-operator">&gt;</span>] <br>[<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> <span class="hljs-operator">&lt;</span>列名<span class="hljs-number">1</span><span class="hljs-operator">&gt;</span> [<span class="hljs-keyword">HAVING</span> <span class="hljs-operator">&lt;</span>条件表达式<span class="hljs-operator">&gt;</span>]] <br>[<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-operator">&lt;</span>列名<span class="hljs-number">2</span><span class="hljs-operator">&gt;</span> [<span class="hljs-keyword">ASC</span><span class="hljs-operator">|</span><span class="hljs-keyword">DESC</span>]];<br></code></pre></td></tr></table></figure>
<ul>
<li>SELECT子句：指定要显示的属性列（投影）</li>
<li>FROM子句：指定查询对象（基本表或视图）</li>
<li>WHERE子句：指定查询条件（连接或选择条件）</li>
<li>GROUP
BY子句：对查询结果按指定列的值分组，该属性列值相等的元组为一个组。通常会在每组中作用聚集函数。</li>
<li>HAVING短语：只有满足指定条件的分组才予以输出</li>
<li>ORDER BY子句：对查询结果表按指定列值的升序或降序排序</li>
</ul>
<h3 id="单表查询">3.4.1 单表查询</h3>
<h4 id="选择表中的若干列">1. 选择表中的若干列</h4>
<ol type="1">
<li><p>查询指定列</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> Sname,Sno,Sdept <span class="hljs-keyword">FROM</span> Student;<br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> Student;<br></code></pre></td></tr></table></figure></li>
<li><p>查询经过计算的值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> Sname, <span class="hljs-number">2023</span><span class="hljs-operator">-</span>Sage <span class="hljs-keyword">FROM</span> Student;  <span class="hljs-comment">/*假设当时为2023年，查询出生年份*/</span><br><span class="hljs-keyword">SELECT</span> Sname,<span class="hljs-string">'Year of Birth: '</span>,<span class="hljs-number">2014</span><span class="hljs-operator">-</span>Sage,<span class="hljs-built_in">LOWER</span>(Sdept) <span class="hljs-keyword">FROM</span> Student;<br></code></pre></td></tr></table></figure></li>
<li><p>使用列别名改变查询结果的列标题（原名+空格+别名）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> Sname NAME, <span class="hljs-string">'Year of Birth:'</span> BIRTH,<br><span class="hljs-number">2014</span><span class="hljs-operator">-</span>Sage BIRTHDAY, <span class="hljs-built_in">LOWER</span>(Sdept) DEPARTMENT<br><span class="hljs-keyword">FROM</span> Student;<br></code></pre></td></tr></table></figure></li>
</ol>
<h4 id="选择表中的若干元组">2.选择表中的若干元组</h4>
<p>使用DISTINCT消除取值重复的行：如果没有指定DISTINCT关键词，则缺省为ALL</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> Sno <span class="hljs-keyword">FROM</span> SC;<br><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">ALL</span> Sno <span class="hljs-keyword">FROM</span> SC;			<span class="hljs-comment">/*两者等价*/</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> Sno <span class="hljs-keyword">FROM</span> SC;	<span class="hljs-comment">/*去除重复行*/</span><br></code></pre></td></tr></table></figure>
<p>查询满足条件的元组：WHERE 子句</p>
<p>WHERE 子句常用的查询条件</p>
<table>

<thead>
<tr class="header">
<th>查询条件</th>
<th>谓词</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>比较</td>
<td>=，&gt;，&lt;，&gt;=，&lt;=，!=，&lt;&gt;，!&gt;，!&lt;，NOT+上述比较运算符</td>
</tr>
<tr class="even">
<td>确定范围</td>
<td>BETWEEN AND，NOT BETWEEN AND</td>
</tr>
<tr class="odd">
<td>确定集合</td>
<td>IN，NOT IN</td>
</tr>
<tr class="even">
<td>字符匹配</td>
<td>LIKE，NOT LIKE</td>
</tr>
<tr class="odd">
<td>空值</td>
<td>IS NULL，IS NOT NULL</td>
</tr>
<tr class="even">
<td>多重条件（逻辑运算）</td>
<td>AND，OR，NOT</td>
</tr>
</tbody>
</table>
<ol type="1">
<li><p>比较大小</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> Sname <span class="hljs-keyword">FROM</span> Student <span class="hljs-keyword">WHERE</span> Sdept<span class="hljs-operator">=</span><span class="hljs-string">'CS'</span>;<br><span class="hljs-keyword">SELECT</span> Sname,Sage <span class="hljs-keyword">FROM</span> Student <span class="hljs-keyword">WHERE</span> Sage<span class="hljs-operator">&lt;</span><span class="hljs-number">20</span>;<br></code></pre></td></tr></table></figure></li>
<li><p>确定范围（between and，not between and）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> Sname, Sdept, Sage <span class="hljs-keyword">FROM</span> Student <span class="hljs-keyword">WHERE</span> Sage <span class="hljs-keyword">BETWEEN</span> <span class="hljs-number">20</span> <span class="hljs-keyword">AND</span> <span class="hljs-number">23</span>;<br><span class="hljs-keyword">SELECT</span> Sname, Sdept, Sage <span class="hljs-keyword">FROM</span> Student <span class="hljs-keyword">WHERE</span> Sage <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">BETWEEN</span> <span class="hljs-number">20</span> <span class="hljs-keyword">AND</span> <span class="hljs-number">23</span>;<br></code></pre></td></tr></table></figure></li>
<li><p>确定集合（in，not in）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> Sname, Ssex <span class="hljs-keyword">FROM</span> Student <span class="hljs-keyword">WHERE</span> Sdept <span class="hljs-keyword">IN</span> (<span class="hljs-string">'CS'</span>,<span class="hljs-string">'MA'</span>,<span class="hljs-string">'IS'</span>);<br></code></pre></td></tr></table></figure></li>
<li><p>字符匹配（like，not like）</p>
<p>匹配串为固定字符串（精确匹配）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> Student <span class="hljs-keyword">WHERE</span> Sno <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'201215121'</span>;<br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> Student <span class="hljs-keyword">WHERE</span> Sno<span class="hljs-operator">=</span><span class="hljs-string">'201215121'</span>;		<span class="hljs-comment">/*等价*/</span><br></code></pre></td></tr></table></figure>
<p>匹配串为含通配符的字符串</p>
<p><code>%</code> (百分号)
代表任意长度(长度可以为0)的字符串，<code>_</code> (下横线)
代表任意单个字符</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> Sname <span class="hljs-keyword">FROM</span> Student <span class="hljs-keyword">WHERE</span> Sname <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'欧阳_'</span>;<br><span class="hljs-keyword">SELECT</span> Sname,Sno <span class="hljs-keyword">FROM</span> Student <span class="hljs-keyword">WHERE</span> Sname <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'_阳%'</span>;	<span class="hljs-comment">/*第二个字为阳*/</span><br><span class="hljs-keyword">SELECT</span> Sname,Sno,Ssex <span class="hljs-keyword">FROM</span> Student <span class="hljs-keyword">WHERE</span> Sname <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'刘%'</span>;<span class="hljs-comment">/*不姓刘*/</span><br></code></pre></td></tr></table></figure>
<p>使用转义字符将通配符转义为普通字符</p>
<p><code>ESCAPE '&lt;换码字符&gt;'</code>
表示该字符为转移字符，缺省的转义字符为<code>\</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> Cno, Ccredit <span class="hljs-keyword">FROM</span> Course <span class="hljs-keyword">WHERE</span> Cname <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'DB\_Design'</span> <span class="hljs-keyword">ESCAPE</span> <span class="hljs-string">'\'</span>;<br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> Course <span class="hljs-keyword">WHERE</span> Cname <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'DB\_%i__'</span> <span class="hljs-keyword">ESCAPE</span> <span class="hljs-string">'\'</span>;<br><span class="hljs-comment">/*以"DB_"开头，且倒数第三个字符为i*/</span><br></code></pre></td></tr></table></figure></li>
<li><p>涉及空值的查询（IS NULL，IS NOT NULL）</p>
<p><strong>“IS” 不能用 “=” 代替</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> Sno, Cno <span class="hljs-keyword">FROM</span> SC <span class="hljs-keyword">WHERE</span> Grade <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span>;<br></code></pre></td></tr></table></figure></li>
<li><p>多重条件查询（and，or，可以用括号改变优先级）</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs n1ql"><span class="hljs-keyword">SELECT</span> Sname <span class="hljs-keyword">FROM</span> Student <span class="hljs-keyword">WHERE</span> Sdept= <span class="hljs-string">'CS'</span> <span class="hljs-keyword">AND</span> Sage&lt;<span class="hljs-number">20</span>;<br></code></pre></td></tr></table></figure></li>
</ol>
<p>关于NULL的说明：</p>
<ul>
<li><p>NULL参与数学运算时，其结果NULL。</p></li>
<li><p>统计聚合计算，一般将有空值的数据忽略不计。count除外，因为统计的是行数。</p></li>
<li><p>所有与NULL的<strong>比较运算</strong>的结果是
unknown，既不是true也不是false</p>
<p>如果where条件的求解结果是“unknown”，等价于where条件=false</p></li>
<li><p>与NULL的逻辑运算部分结果明确，例如<code>true or null = true</code>。部分结果为unknown，例如<code>false or null = unknown</code></p></li>
<li><p>NULL与空字符<code>‘’</code>有区别。在MySQL中，NULL与空字符串‘’是不同的；在Oracle中，NULL与空字符串‘’是等价的，但是在where条件比较时两者不同。</p></li>
<li><p>包含NULL的表达式结果是NULL</p></li>
<li><p>不能使用等号查询NULL值</p></li>
</ul>
<h4 id="order-by子句">3.ORDER BY子句</h4>
<p>ORDER BY子句，可以按一个或多个属性列排序</p>
<ul>
<li>升序(缺省)：ASC；降序：DESC；</li>
<li>缺省值为升序</li>
<li>对于NULL空值，排序时显示次序由具体系统实现来决定</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> Sno,Grade <span class="hljs-keyword">FROM</span> SC <span class="hljs-keyword">WHERE</span> Cno<span class="hljs-operator">=</span><span class="hljs-string">'3'</span> <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> Grade <span class="hljs-keyword">DESC</span>;<br></code></pre></td></tr></table></figure>
<h4 id="聚集函数">4.聚集函数</h4>
<p>常用聚集函数：</p>
<ul>
<li>统计元组个数：<code>COUNT(*)</code></li>
<li>统计一列中值的个数：<code>COUNT([DISTINCT|ALL] &lt;列名&gt;)</code></li>
<li>计算一列值的总和（此列必须为数值型）：<code>SUM([DISTINCT|ALL] &lt;列名&gt;)</code></li>
<li>计算一列值的平均值（此列必须为数值型）：<code>AVG([DISTINCT|ALL] &lt;列名&gt;)</code></li>
<li>求一列中的最大值和最小值：<code>MAX([DISTINCT|ALL] &lt;列名&gt;), MIN([DISTINCT|ALL] &lt;列名&gt;)</code></li>
</ul>
<p>聚集函数只能用于 <strong>SELECT 子句</strong>和 GROUP BY 中的
<strong>HAVING 子句</strong>。</p>
<p>例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> Sno) <span class="hljs-keyword">FROM</span> SC;<br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">AVG</span>(Grade) <span class="hljs-keyword">FROM</span> SC <span class="hljs-keyword">WHERE</span> Cno<span class="hljs-operator">=</span><span class="hljs-string">'1'</span>;<br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">SUM</span>(Ccredit) <span class="hljs-keyword">FROM</span> SC,Course <span class="hljs-keyword">WHERE</span> Sno<span class="hljs-operator">=</span><span class="hljs-string">'201215012'</span> <span class="hljs-keyword">AND</span> SC.Cno<span class="hljs-operator">=</span>Course.Cno;<br></code></pre></td></tr></table></figure>
<h4 id="group-by子句">5.GROUP BY子句</h4>
<p>GROUP BY子句分组：细化聚集函数的作用对象：</p>
<ul>
<li>如果未对查询结果分组，聚集函数将作用于整个查询结果</li>
<li>对查询结果分组后，聚集函数将分别作用于每个组</li>
<li>按指定的一列或多列值分组，值相等的为一组</li>
</ul>
<p>Group
By的分组字段包括NULL，分组时将多个NULL分为一组（根据SQL标准）</p>
<p>例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">/*各个课程号及相应的选课人数*/</span><br><span class="hljs-keyword">SELECT</span> Cno,<span class="hljs-built_in">COUNT</span>(Sno) <span class="hljs-keyword">FROM</span> SC <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> Cno;<br><span class="hljs-comment">/*选修了 3 门以上课程的学生学号*/</span><br><span class="hljs-keyword">SELECT</span> Sno <span class="hljs-keyword">FROM</span> SC <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> Sno <span class="hljs-keyword">HAVING</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>)<span class="hljs-operator">&gt;</span><span class="hljs-number">3</span>;<br><span class="hljs-comment">/*平均成绩大于等于 90 分的学生学号和平均成绩*/</span><br><span class="hljs-keyword">SELECT</span> Sno, <span class="hljs-built_in">AVG</span>(Grade) <span class="hljs-keyword">FROM</span> SC <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> Sno <span class="hljs-keyword">HAVING</span> <span class="hljs-built_in">AVG</span>(Grade)<span class="hljs-operator">&gt;=</span><span class="hljs-number">90</span>;<br></code></pre></td></tr></table></figure>
<p>HAVING 短语与 WHERE 子句的区别：作用对象不同</p>
<ul>
<li>WHERE 子句作用于基本表或视图，从中选择满足条件的元组</li>
<li>HAVING 短语作用于组，从中选择满足条件的组</li>
</ul>
<h3 id="连接查询">3.4.2 连接查询</h3>
<p>连接查询：同时涉及两个以上的表的查询</p>
<p>连接条件或连接谓词：用来连接两个表的条件</p>
<p>查询语句：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> table1, table2 <span class="hljs-keyword">where</span> [<span class="hljs-operator">&lt;</span>表名<span class="hljs-number">1</span><span class="hljs-operator">&gt;</span>.]<span class="hljs-operator">&lt;</span>列名<span class="hljs-number">1</span><span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>比较运算符<span class="hljs-operator">&gt;</span> [<span class="hljs-operator">&lt;</span>表名<span class="hljs-number">2</span><span class="hljs-operator">&gt;</span>.]<span class="hljs-operator">&lt;</span>列名<span class="hljs-number">2</span><span class="hljs-operator">&gt;</span><br></code></pre></td></tr></table></figure>
<p>连接字段：连接条件中的各连接字段类型必须是可比的，但名字不必相同</p>
<h4 id="等值与非等值连接查询">1. 等值与非等值连接查询</h4>
<p><strong>等值连接：连接运算符为 =</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> Student.<span class="hljs-operator">*</span>, SC.<span class="hljs-operator">*</span><br><span class="hljs-keyword">FROM</span> Student, SC<br><span class="hljs-keyword">WHERE</span> Student.Sno <span class="hljs-operator">=</span> SC.Sno;<br></code></pre></td></tr></table></figure>
<p>连接操作的执行过程：</p>
<ol type="1">
<li>嵌套循环法（NESTED-LOOP）
<ul>
<li>在表1中找到第一个元组，然后从头扫描表2，找到满足的元组与表1的第一个元组拼接起来</li>
<li>表2查找结束后，查找表1中的第二个元组，然后从头扫描表2</li>
<li>重复上述操作</li>
</ul></li>
<li>排序合并法（SORT-MERGE）
<ul>
<li>常用于等值连接</li>
<li>首先按连接属性对表1和表2排序</li>
<li>对表1的第一个元组，从头开始扫描表2，顺序查找满足连接条件的元组，找到后就将表1中的第一个元组与该元组拼接起来，形成结果表中一个元组</li>
<li>当遇到表2中第一条大于表1连接字段值的元组时，对表2的查询不再继续</li>
<li>查找表1中第二条元组，从刚刚的中断点除继续扫描表2，重复上述操作</li>
</ul></li>
<li>索引连接（INDEX-JOIN）
<ul>
<li>对表2按连接字段建立索引</li>
<li>对表1中的每个元组，依次根据其连接字段值查询表2的索引，从中找到满足条件的元组，找到后就将表1中的第一个元组与该元组拼接起来，形成结果表中一个元组</li>
</ul></li>
</ol>
<p><strong>非等值连接</strong>也是连接的2张表先做笛卡尔积，然后按照“非等值”的连接条件对每一条记录进行过滤：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> course, sc<br><span class="hljs-keyword">WHERE</span> course.Cno <span class="hljs-operator">&lt;</span> sc.cno<br><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> course.cno, sno, sc.cno;<br></code></pre></td></tr></table></figure>
<p><strong>过滤条件：</strong></p>
<p>过滤条件是在连接条件的基础上，进一步对结果集进行选择（过滤），要区分连接条件（关系代数中的θ连接条件）和过滤条件（关系代数中的选择σ条件）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> Student.Sno, Sname<br><span class="hljs-keyword">FROM</span> Student, SC<br><span class="hljs-keyword">WHERE</span> Student.Sno <span class="hljs-operator">=</span> SC.Sno<br><span class="hljs-keyword">AND</span> SC.Cno <span class="hljs-operator">=</span> <span class="hljs-string">'2'</span> <span class="hljs-keyword">AND</span> SC.Grade <span class="hljs-operator">&gt;</span> <span class="hljs-number">85</span>;<br></code></pre></td></tr></table></figure>
<p>这里的WHERE子句是由连接谓词和选择谓词（过滤）组成的复合条件。</p>
<p>执行过程：</p>
<ul>
<li>先从SC中挑选出Cno='2'并且Grade&gt;85的元组形成一个中间关系</li>
<li>再和Student中满足连接条件的元组进行连接得到最终的结果关系</li>
</ul>
<h4 id="自身连接">2. 自身连接</h4>
<p>自身连接：一个表与其自己进行连接，需要给表<strong>起别名</strong>以示区别，由于所有属性名都是同名属性，因此必须使用<strong>别名前缀</strong>。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> FIRST.Cno, SECOND.Cpno<br><span class="hljs-keyword">FROM</span> Course <span class="hljs-keyword">AS</span> <span class="hljs-keyword">FIRST</span>, Course <span class="hljs-keyword">AS</span> <span class="hljs-keyword">SECOND</span><br><span class="hljs-keyword">WHERE</span> FIRST.Cpno <span class="hljs-operator">=</span> SECOND.Cno;<br></code></pre></td></tr></table></figure>
<h4 id="外连接">3. 外连接</h4>
<p>外连接与普通连接的区别：</p>
<ul>
<li>普通连接操作只输出满足连接条件的元组</li>
<li>外连接操作以指定表为连接主体，将主体表中不满足连接条件的元组一并输出</li>
<li>分为：
<ul>
<li>左外连接：列出左边关系中所有的元组</li>
<li>右外连接：列出右边关系中所有的元组</li>
</ul></li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">/*查询每个学生及其选修课程的情况*/</span><br><span class="hljs-keyword">SELECT</span> Student.Sno, Sname, Ssex, Sage, Sdept, Cno, Grade<br><span class="hljs-keyword">FROM</span> Student <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> SC <span class="hljs-keyword">ON</span><br>(Student.Sno<span class="hljs-operator">=</span>SC.Sno);<br><span class="hljs-comment">/*使用Join自然连接*/</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> Student <span class="hljs-keyword">NATURAL</span> <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> SC;<br><span class="hljs-comment">/*查找没有选任何课的学生学号和姓名*/</span><br><span class="hljs-keyword">select</span> sno, <span class="hljs-built_in">count</span>(<span class="hljs-keyword">distinct</span> cno) cnt<br><span class="hljs-keyword">from</span> ( <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> Student <span class="hljs-keyword">NATURAL</span> <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> sc ) temp<br><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> sno <span class="hljs-keyword">having</span> <span class="hljs-built_in">count</span>(<span class="hljs-keyword">distinct</span> cno) <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br></code></pre></td></tr></table></figure>
<h4 id="多表连接">4. 多表连接</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">/*查询每个学生的学号、姓名、选修的课程名及成绩*/</span><br><span class="hljs-keyword">SELECT</span> Student.Sno, Sname, Cname, Grade<br><span class="hljs-keyword">FROM</span> Student, SC, Course <span class="hljs-comment">/*多表连接*/</span><br><span class="hljs-keyword">WHERE</span> Student.Sno <span class="hljs-operator">=</span> SC.Sno<br><span class="hljs-keyword">AND</span> SC.Cno <span class="hljs-operator">=</span> Course.Cno;<br><span class="hljs-comment">/*使用Join自然连接*/</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> Student <span class="hljs-keyword">NATURAL</span> <span class="hljs-keyword">JOIN</span> SC <span class="hljs-keyword">NATURAL</span> <span class="hljs-keyword">JOIN</span> Course;<br></code></pre></td></tr></table></figure>
<h4 id="join总结">5. Join总结</h4>
<p>JOIN连接类型：</p>
<ul>
<li>INNER JOIN</li>
<li>LEFT JOIN OR LEFT OUTER JOIN</li>
<li>RIGHT JOIN OR RIGHT OUTER JOIN</li>
<li>FULL OUTER JOIN</li>
<li>NATURAL JOIN</li>
<li>CROSS JOIN</li>
<li>SELF JOIN</li>
</ul>
<h3 id="嵌套查询">3.4.3 嵌套查询</h3>
<h3 id="集合查询">3.4.4 集合查询</h3>
<h3 id="基于派生表的查询">3.4.5 基于派生表的查询</h3>
<h3 id="select语句的一般形式">3.4.6 Select语句的一般形式</h3>
<h2 id="数据更新">3.5 数据更新</h2>
<h2 id="空值的处理">3.6 空值的处理</h2>
<h2 id="视图">3.7 视图</h2>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" class="print-no-link">#期末复习</a>
      
        <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" class="print-no-link">#数据库</a>
      
        <a href="/tags/%E5%A4%A7%E4%B8%89%E4%B8%8A/" class="print-no-link">#大三上</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>数据库原理与安全：笔记2</div>
      <div>https://harrison-1eo.github.io/2023/12/19/数据库笔记2/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Harrison</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年12月19日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/12/20/%E7%BD%91%E7%BB%9C%E5%86%85%E5%AE%B9%E5%AE%89%E5%85%A8%E6%80%BB%E7%BB%93/" title="网络内容安全：内容要点总结">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">网络内容安全：内容要点总结</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/12/18/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AC%94%E8%AE%B0/" title="数据库原理与安全：笔记1">
                        <span class="hidden-mobile">数据库原理与安全：笔记1</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
      全站CC BY 4.0 DEED  Harrison<br> Powered by Hexo & Fluid
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
